/*! powerbi-models v0.11.2 | (c) 2016 Microsoft Corporation MIT */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["powerbi-models"]=t():e["powerbi-models"]=t()}(this,function(){return function(e){function t(s){if(r[s])return r[s].exports;var i=r[s]={exports:{},id:s,loaded:!1};return e[s].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){function s(e){var t=e.message;return t||(t=e.path+" is invalid. Not meeting "+e.keyword+" constraint"),{message:t}}function i(e,t){return function(r){var i=p(e,t),n=i(r);return n?void 0:i.errors.map(s)}}function n(e){return h(e)&&!!e.keys}function o(e){return a(e)===l.Basic&&!!e.keyValues}function a(e){var t=e,r=e;return"string"==typeof t.operator&&Array.isArray(t.values)?l.Basic:"string"==typeof r.logicalOperator&&Array.isArray(r.conditions)?l.Advanced:l.Unknown}function c(e){return void 0!==e.table&&void 0!==e.measure}function h(e){return void 0!==e.table&&void 0!==e.column}function u(e){return void 0!==e.table&&void 0!==e.hierarchy&&void 0!==e.hierarchyLevel}var f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function s(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.advancedFilterSchema=r(1),t.filterSchema=r(2),t.loadSchema=r(3),t.dashboardLoadSchema=r(4),t.pageSchema=r(5),t.settingsSchema=r(6),t.basicFilterSchema=r(7),t.createReportSchema=r(8),t.saveAsParametersSchema=r(9);var p=r(10);t.validateSettings=i(t.settingsSchema,{schemas:{basicFilter:t.basicFilterSchema,advancedFilter:t.advancedFilterSchema}}),t.validateReportLoad=i(t.loadSchema,{schemas:{settings:t.settingsSchema,basicFilter:t.basicFilterSchema,advancedFilter:t.advancedFilterSchema}}),t.validateCreateReport=i(t.createReportSchema),t.validateDashboardLoad=i(t.dashboardLoadSchema),t.validatePage=i(t.pageSchema),t.validateFilter=i(t.filterSchema,{schemas:{basicFilter:t.basicFilterSchema,advancedFilter:t.advancedFilterSchema}});var l;!function(e){e[e.Advanced=0]="Advanced",e[e.Basic=1]="Basic",e[e.Unknown=2]="Unknown"}(l=t.FilterType||(t.FilterType={})),t.isFilterKeyColumnsTarget=n,t.isBasicFilterWithKeys=o,t.getFilterType=a,t.isMeasure=c,t.isColumn=h,t.isHierarchy=u;var d=function(){function e(e){this.target=e}return e.prototype.toJSON=function(){return{$schema:this.schemaUrl,target:this.target}},e}();t.Filter=d;var m=function(e){function t(r,s){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o=e.call(this,r)||this;if(o.operator=s,o.schemaUrl=t.schemaUrl,0===i.length&&"All"!==s)throw new Error('values must be a non-empty array unless your operator is "All".');return Array.isArray(i[0])?o.values=i[0]:o.values=i,o}return f(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.operator=this.operator,t.values=this.values,t},t}(d);m.schemaUrl="http://powerbi.com/product/schema#basic",t.BasicFilter=m;var y=function(e){function t(t,r,s,i){var n=e.call(this,t,r,s)||this;n.keyValues=i,n.target=t;var o=t.keys?t.keys.length:0;if(o>0&&!i)throw new Error("You shold pass the values to be filtered for each key. You passed: no values and "+o+" keys");if(0===o&&i&&i.length>0)throw new Error("You passed key values but your target object doesn't contain the keys to be filtered");for(var a=0;a<n.keyValues.length;a++)if(n.keyValues[a]){var c=n.keyValues[a].length;if(c!==o)throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: "+c+" values and "+o+" keys")}return n}return f(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.keyValues=this.keyValues,t},t}(m);t.BasicFilterWithKeys=y;var g=function(e){function t(r,s){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o=e.call(this,r)||this;if(o.schemaUrl=t.schemaUrl,"string"!=typeof s||0===s.length)throw new Error("logicalOperator must be a valid operator, You passed: "+s);o.logicalOperator=s;var a;if(a=Array.isArray(i[0])?i[0]:i,0===a.length)throw new Error("conditions must be a non-empty array. You passed: "+i);if(a.length>2)throw new Error("AdvancedFilters may not have more than two conditions. You passed: "+i.length);if(1===a.length&&"And"!==s)throw new Error('Logical Operator must be "And" when there is only one condition provided');return o.conditions=a,o}return f(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.logicalOperator=this.logicalOperator,t.conditions=this.conditions,t},t}(d);g.schemaUrl="http://powerbi.com/product/schema#advanced",t.AdvancedFilter=g;var v;!function(e){e[e.Read=0]="Read",e[e.ReadWrite=1]="ReadWrite",e[e.Copy=2]="Copy",e[e.Create=4]="Create",e[e.All=7]="All"}(v=t.Permissions||(t.Permissions={}));var b;!function(e){e[e.View=0]="View",e[e.Edit=1]="Edit"}(b=t.ViewMode||(t.ViewMode={}));var j;!function(e){e[e.Aad=0]="Aad",e[e.Embed=1]="Embed"}(j=t.TokenType||(t.TokenType={})),t.validateSaveAsParameters=i(t.saveAsParametersSchema)},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{target:{oneOf:[{type:"object",properties:{table:{type:"string"},column:{type:"string"}},required:["table","column"]},{type:"object",properties:{table:{type:"string"},hierarchy:{type:"string"},hierarchyLevel:{type:"string"}},required:["table","hierarchy","hierarchyLevel"]},{type:"object",properties:{table:{type:"string"},measure:{type:"string"}},required:["table","measure"]}]},logicalOperator:{type:"string"},conditions:{type:"array",items:{type:"object",properties:{value:{type:["string","boolean","number"]},operator:{type:"string"}},required:["value","operator"]}}},required:["target","logicalOperator","conditions"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",oneOf:[{$ref:"#basicFilter"},{$ref:"#advancedFilter"}],invalidMessage:"filter is invalid"}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{accessToken:{type:"string",messages:{type:"accessToken must be a string",required:"accessToken is required"}},id:{type:"string",messages:{type:"id must be a string",required:"id is required"}},settings:{$ref:"#settings"},pageName:{type:"string",messages:{type:"pageName must be a string"}},filters:{type:"array",items:{type:"object",oneOf:[{$ref:"#basicFilter"},{$ref:"#advancedFilter"}]},invalidMessage:"filters property is invalid"},permissions:{type:"number","enum":[0,1,2,4,7],"default":0,invalidMessage:"permissions property is invalid"},viewMode:{type:"number","enum":[0,1],"default":0,invalidMessage:"viewMode property is invalid"},tokenType:{type:"number","enum":[0,1],"default":0,invalidMessage:"tokenType property is invalid"}},required:["accessToken","id"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{accessToken:{type:"string",messages:{type:"accessToken must be a string",required:"accessToken is required"}},id:{type:"string",messages:{type:"id must be a string",required:"id is required"}},pageView:{type:"string",messages:{type:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}},tokenType:{type:"number","enum":[0,1],"default":0,invalidMessage:"tokenType property is invalid"}},required:["accessToken","id"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{name:{type:"string",messages:{type:"name must be a string",required:"name is required"}}},required:["name"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{filterPaneEnabled:{type:"boolean",messages:{type:"filterPaneEnabled must be a boolean"}},navContentPaneEnabled:{type:"boolean",messages:{type:"navContentPaneEnabled must be a boolean"}},useCustomSaveAsDialog:{type:"boolean",messages:{type:"useCustomSaveAsDialog must be a boolean"}}}}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{target:{type:"object",properties:{table:{type:"string"},column:{type:"string"},hierarchy:{type:"string"},hierarchyLevel:{type:"string"},measure:{type:"string"}},required:["table"]},operator:{type:"string"},values:{type:"array",items:{type:["string","boolean","number"]}}},required:["target","operator","values"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{accessToken:{type:"string",messages:{type:"accessToken must be a string",required:"accessToken is required"}},datasetId:{type:"string",messages:{type:"datasetId must be a string",required:"datasetId is required"}},tokenType:{type:"number","enum":[0,1],"default":0,invalidMessage:"tokenType property is invalid"}},required:["accessToken","datasetId"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{name:{type:"string",messages:{type:"name must be a string",required:"name is required"}}},required:["name"]}},function(e,t,r){e.exports=r(11)},function(e,t,r){"use strict";function s(e){return e=e instanceof RegExp?e:new RegExp(e),O?e.toString():"/"+e.source.replace(g,"\\$&")+"/"}function i(e){return'"'+e.replace(v,"\\$1")+'"'}function n(e,t){return b.lastIndex=0,b.test(t)?e+"."+t:e+"["+i(t)+"]"}function o(e){if(void 0===e)return"undefined";var t=Object.prototype.toString.call(e);return t.substr(8,t.length-9).toLowerCase()}function a(e){return(0|e)===e}function c(e,t){C[t].type=e,C[t].keyword=t}function h(e){var t,r,s,i=Object.keys(e),n=i.indexOf("properties"),o=i.indexOf("patternProperties"),a={"enum":Array.isArray(e["enum"])&&e["enum"].length>0,type:null,allType:[],perType:{}};for(e.type&&("string"==typeof e.type?a.type=[e.type]:Array.isArray(e.type)&&e.type.length&&(a.type=e.type.slice(0))),s=0;s<i.length;s++)t=i[s],"enum"!==t&&"type"!==t&&(r=C[t],r&&(r.type?(a.perType[r.type]||(a.perType[r.type]=[]),n>-1&&"required"===t||o>-1&&"additionalProperties"===t||a.perType[r.type].push(t)):a.allType.push(t)));return a}function u(e,t){var r,s,i=e.substr(4),n=i.length,o=[],a="",c=!1;for(s=0;s<n;s++)switch(r=i[s]){case".":a&&(a+=r);break;case"[":isNaN(+i[s+1])?(c=!0,a&&(o.push('"'+a+'"'),a="")):(c=!1,a&&(a+="."));break;case"]":o.push(c?a:'"'+a+'"'),a="";break;default:a+=r}return a&&o.push('"'+a+'"'),t&&o.push('"'+t+'"'),1===o.length&&c?'"" + '+o[0]+' + ""':o.join(' + "." + ')||'""'}function f(e){var t,r,s,i,n=e,a=o(e);if("object"===a)for(n={},t=Object.keys(e),i=0,r=t.length;i<r;i++)s=t[i],n[s]=f(e[s]);else if("array"===a)for(n=[],i=0,r=e.length;i<r;i++)n[i]=f(e[i]);else{if("regexp"===a)return new RegExp(e);if("date"===a)return new Date(e.toJSON())}return n}function p(e,t){for(var r=0,s=t.length;r<s;r++)if(w(e,t[r]))return!0;return!1}function l(){this.objects=[],this.properties=[]}function d(e,t,r,s,i){var n,a,c,h,u,p,m;if("object"!==o(e))return t;if(e=s.resolve(e),void 0===t&&e.hasOwnProperty("default")&&(t=f(e["default"])),n=o(t),"object"===n&&"object"===o(e.properties)){for(p=Object.keys(e.properties),h=0;h<p.length;h++)c=p[h],a=d(e.properties[c],t[c],r,s),void 0!==a&&(t[c]=a);if("always"!==r)for(m=Object.keys(t),h=0;h<m.length;h++)c=m[h],p.indexOf(c)<0&&(e.additionalProperties===!1||r===!1&&!e.additionalProperties)&&(i?i.mark(t,c):delete t[c])}else if("array"===n&&e.items){if("array"===o(e.items))for(h=0;h<e.items.length;h++)a=d(e.items[h],t[h],r,s),(void 0!==a||h<t.length)&&(t[h]=a);else if(t.length)for(h=0;h<t.length;h++)t[h]=d(e.items,t[h],r,s)}else if("array"===o(e.allOf)&&e.allOf.length){for(u=new l,h=0;h<e.allOf.length;h++)t=d(e.allOf[h],t,r,s,u);u.deleteDuplicates(),u.dispose()}return t}function m(e){this.path="data",this.schema=e.schema,this.formats=e.formats,this.greedy=e.greedy,this.resolver=e.resolver,this.id=e.id,this.funcache=e.funcache||{},this.scope=e.scope||{equalAny:p,unique:k,ucs2length:S,refs:{}}}function y(e,t){if("object"!==o(e))throw new Error(j);t=t||{};var r=0,s=function(){return"i"+r++},i=new q(e,t.schemas,t.missing$Ref||!1),n=new m({schema:e,resolver:i,id:s,schemas:t.schemas,formats:t.formats,greedy:t.greedy||!1}),a=A("validate","data")("validate.errors = []")('gen(data, "", validate.errors)')("return validate.errors.length === 0").compile({gen:n.compile()});return n.dispose(),n=null,a.errors=[],a.build=function(t,r){return d(e,r&&r.copy===!1?t:f(t),r&&r.additionalProperties,i)},a}var g=/[\/]/g,v=/(")/gim,b=/^[a-z_$][0-9a-z]*$/gi,j="jsen: invalid schema object",x="object"==typeof window&&!!window.navigator,O="/"!==new RegExp("/").source,A=r(12),w=r(13),k=r(14),q=r(15),I=r(24),S=r(25),$={},C={};$["null"]=function(e){return e+" === null"},$["boolean"]=function(e){return"typeof "+e+' === "boolean"'},$.string=function(e){return"typeof "+e+' === "string"'},$.number=function(e){return"typeof "+e+' === "number"'},$.integer=function(e){return"typeof "+e+' === "number" && !('+e+" % 1)"},$.array=function(e){return"Array.isArray("+e+")"},$.object=function(e){return"typeof "+e+' === "object" && '+e+" !== null && !Array.isArray("+e+")"},$.date=function(e){return e+" instanceof Date"},C["enum"]=function(e){var t=e.schema["enum"];e.code("if (!equalAny("+e.path+", "+JSON.stringify(t)+")) {"),e.error("enum"),e.code("}")},C.minimum=function(e){"number"==typeof e.schema.minimum&&(e.code("if ("+e.path+" < "+e.schema.minimum+") {"),e.error("minimum"),e.code("}"))},C.exclusiveMinimum=function(e){e.schema.exclusiveMinimum===!0&&"number"==typeof e.schema.minimum&&(e.code("if ("+e.path+" === "+e.schema.minimum+") {"),e.error("exclusiveMinimum"),e.code("}"))},C.maximum=function(e){"number"==typeof e.schema.maximum&&(e.code("if ("+e.path+" > "+e.schema.maximum+") {"),e.error("maximum"),e.code("}"))},C.exclusiveMaximum=function(e){e.schema.exclusiveMaximum===!0&&"number"==typeof e.schema.maximum&&(e.code("if ("+e.path+" === "+e.schema.maximum+") {"),e.error("exclusiveMaximum"),e.code("}"))},C.multipleOf=function(e){if("number"==typeof e.schema.multipleOf){var t=e.schema.multipleOf,r=t.toString().length-t.toFixed(0).length-1,s=r>0?Math.pow(10,r):1,i=e.path;r>0?e.code("if (+(Math.round(("+i+" * "+s+') + "e+" + '+r+') + "e-" + '+r+") % "+t*s+" !== 0) {"):e.code("if ((("+i+" * "+s+") % "+t*s+") !== 0) {"),e.error("multipleOf"),e.code("}")}},C.minLength=function(e){a(e.schema.minLength)&&(e.code("if (ucs2length("+e.path+") < "+e.schema.minLength+") {"),e.error("minLength"),e.code("}"))},C.maxLength=function(e){a(e.schema.maxLength)&&(e.code("if (ucs2length("+e.path+") > "+e.schema.maxLength+") {"),e.error("maxLength"),e.code("}"))},C.pattern=function(e){var t=e.schema.pattern;("string"==typeof t||t instanceof RegExp)&&(e.code("if (!("+s(t)+").test("+e.path+")) {"),e.error("pattern"),e.code("}"))},C.format=function(e){"string"==typeof e.schema.format&&I[e.schema.format]&&(e.code("if (!("+I[e.schema.format]+").test("+e.path+")) {"),e.error("format"),e.code("}"))},C.minItems=function(e){a(e.schema.minItems)&&(e.code("if ("+e.path+".length < "+e.schema.minItems+") {"),e.error("minItems"),e.code("}"))},C.maxItems=function(e){a(e.schema.maxItems)&&(e.code("if ("+e.path+".length > "+e.schema.maxItems+") {"),e.error("maxItems"),e.code("}"))},C.additionalItems=function(e){e.schema.additionalItems===!1&&Array.isArray(e.schema.items)&&(e.code("if ("+e.path+".length > "+e.schema.items.length+") {"),e.error("additionalItems"),e.code("}"))},C.uniqueItems=function(e){e.schema.uniqueItems&&(e.code("if (unique("+e.path+").length !== "+e.path+".length) {"),e.error("uniqueItems"),e.code("}"))},C.items=function(e){var t=e.declare(0),r=0;if("object"===o(e.schema.items))e.code("for ("+t+" = 0; "+t+" < "+e.path+".length; "+t+"++) {"),e.descend(e.path+"["+t+"]",e.schema.items),e.code("}");else if(Array.isArray(e.schema.items)){for(;r<e.schema.items.length;r++)e.code("if ("+e.path+".length - 1 >= "+r+") {"),e.descend(e.path+"["+r+"]",e.schema.items[r]),e.code("}");"object"===o(e.schema.additionalItems)&&(e.code("for ("+t+" = "+r+"; "+t+" < "+e.path+".length; "+t+"++) {"),e.descend(e.path+"["+t+"]",e.schema.additionalItems),e.code("}"))}},C.maxProperties=function(e){a(e.schema.maxProperties)&&(e.code("if (Object.keys("+e.path+").length > "+e.schema.maxProperties+") {"),e.error("maxProperties"),e.code("}"))},C.minProperties=function(e){a(e.schema.minProperties)&&(e.code("if (Object.keys("+e.path+").length < "+e.schema.minProperties+") {"),e.error("minProperties"),e.code("}"))},C.required=function(e){if(Array.isArray(e.schema.required))for(var t=0;t<e.schema.required.length;t++)e.code("if ("+n(e.path,e.schema.required[t])+" === undefined) {"),e.error("required",e.schema.required[t]),e.code("}")},C.properties=function(e){var t,r,s,i=e.schema.properties,a="object"===o(i)?Object.keys(i):[],c=Array.isArray(e.schema.required)?e.schema.required:[];if(a.length)for(r=0;r<a.length;r++)t=a[r],s=n(e.path,t),e.code("if ("+s+" !== undefined) {"),e.descend(s,i[t]),e.code("}"),c.indexOf(t)>-1&&(e.code("else {"),e.error("required",t),e.code("}"))},C.patternProperties=C.additionalProperties=function(e){var t,r,i,n,a,c,h,u="object"===o(e.schema.properties)?Object.keys(e.schema.properties):[],f=e.schema.patternProperties,p="object"===o(f)?Object.keys(f):[],l=e.schema.additionalProperties,d=l===!1||"object"===o(l);if(p.length||d){for(r=e.declare("[]"),i=e.declare('""'),n=e.declare(0),d&&(a=e.declare(!1)),e.code(r+" = Object.keys("+e.path+")"),e.code("for ("+n+" = 0; "+n+" < "+r+".length; "+n+"++) {")(i+" = "+r+"["+n+"]")("if ("+e.path+"["+i+"] === undefined) {")("continue")("}"),d&&e.code(a+" = false"),h=0;h<p.length;h++)c=p[h],e.code("if (("+s(c)+").test("+i+")) {"),e.descend(e.path+"["+i+"]",f[c]),d&&e.code(a+" = true"),e.code("}");d&&(u.length&&(t=e.declare(JSON.stringify(u)),e.code("if ("+t+".indexOf("+i+") > -1) {")("continue")("}")),e.code("if (!"+a+") {"),l===!1?e.error("additionalProperties",void 0,i):e.descend(e.path+"["+i+"]",l),e.code("}")),e.code("}")}},C.dependencies=function(e){if("object"===o(e.schema.dependencies))for(var t,r,s=Object.keys(e.schema.dependencies),i=s.length,a=0,c=0;c<i;c++){if(t=s[c],r=e.schema.dependencies[t],e.code("if ("+n(e.path,t)+" !== undefined) {"),"object"===o(r))e.descend(e.path,r);else for(a;a<r.length;a++)e.code("if ("+n(e.path,r[a])+" === undefined) {"),e.error("dependencies",r[a]),e.code("}");e.code("}")}},C.allOf=function(e){if(Array.isArray(e.schema.allOf))for(var t=0;t<e.schema.allOf.length;t++)e.descend(e.path,e.schema.allOf[t])},C.anyOf=function(e){if(Array.isArray(e.schema.anyOf)){var t=e.greedy,r=e.declare(0),s=e.declare(0),i=e.declare(!1),n=0;for(e.code(s+" = errors.length");n<e.schema.anyOf.length;n++)e.code("if (!"+i+") {"),e.code(r+" = errors.length"),e.greedy=!0,e.descend(e.path,e.schema.anyOf[n]),e.code(i+" = errors.length === "+r)("}");e.greedy=t,e.code("if (!"+i+") {"),e.error("anyOf"),e.code("} else {")("errors.length = "+s)("}")}},C.oneOf=function(e){if(Array.isArray(e.schema.oneOf)){var t=e.greedy,r=e.declare(0),s=e.declare(0),i=e.declare(0),n=0;for(e.code(s+" = errors.length"),e.code(r+" = 0");n<e.schema.oneOf.length;n++)e.code(i+" = errors.length"),e.greedy=!0,e.descend(e.path,e.schema.oneOf[n]),e.code("if (errors.length === "+i+") {")(r+"++")("}");e.greedy=t,e.code("if ("+r+" !== 1) {"),e.error("oneOf"),e.code("} else {")("errors.length = "+s)("}")}},C.not=function(e){if("object"===o(e.schema.not)){var t=e.greedy,r=e.declare(0);e.code(r+" = errors.length"),e.greedy=!0,e.descend(e.path,e.schema.not),e.greedy=t,e.code("if (errors.length === "+r+") {"),e.error("not"),e.code("} else {")("errors.length = "+r)("}")}},["minimum","exclusiveMinimum","maximum","exclusiveMaximum","multipleOf"].forEach(c.bind(null,"number")),["minLength","maxLength","pattern","format"].forEach(c.bind(null,"string")),["minItems","maxItems","additionalItems","uniqueItems","items"].forEach(c.bind(null,"array")),["maxProperties","minProperties","required","properties","patternProperties","additionalProperties","dependencies"].forEach(c.bind(null,"object")),["enum","allOf","anyOf","oneOf","not"].forEach(c.bind(null,null)),l.prototype.mark=function(e,t){var r,s=this.objects.indexOf(e);return s<0?(this.objects.push(e),r={},r[t]=1,void this.properties.push(r)):(r=this.properties[s],void(r[t]=r[t]?r[t]+1:1))},l.prototype.deleteDuplicates=function(){var e,t,r,s,i;for(s=0;s<this.properties.length;s++)for(e=this.properties[s],t=Object.keys(e),i=0;i<t.length;i++)r=t[i],e[r]>1&&delete this.objects[s][r]},l.prototype.dispose=function(){this.objects.length=0,this.properties.length=0},m.prototype.clone=function(e){var t=new m({schema:e,formats:this.formats,greedy:this.greedy,resolver:this.resolver,id:this.id,funcache:this.funcache,scope:this.scope});return t},m.prototype.declare=function(e){var t=this.id();return this.code.def(t,e),t},m.prototype.cache=function(e,t){var r,s=this.funcache[e];return s||(s=this.funcache[e]={key:this.id()},r=this.clone(t),s.func=r.compile(s.key),this.scope.refs[s.key]=s.func,r.dispose()),"refs."+s.key},m.prototype.error=function(e,t,r){var s=this.schema,n=this.path,o="data"!==n||t?'(path ? path + "." : "") + '+u(n,t)+",":"path,",a=t&&s.properties&&s.properties[t]?this.resolver.resolve(s.properties[t]):null,c=a?a.requiredMessage:s.invalidMessage;c||(c=a&&a.messages&&a.messages[e]||s.messages&&s.messages[e]),this.code("errors.push({"),c&&this.code("message: "+i(c)+","),r&&this.code("additionalProperties: "+r+","),this.code("path: "+o)("keyword: "+i(e))("})"),this.greedy||this.code("return")},m.prototype.refactor=function(e,t,r){var s="data"!==e?'(path ? path + "." : "") + '+u(e):"path",i=this.cache(r,t),n=this.declare();this.code(n+" = "+i+"("+e+", "+s+", errors)"),this.greedy||this.code("if (errors.length) { return }")},m.prototype.descend=function(e,t){var r=this.path,s=this.schema;this.path=e,this.schema=t,this.generate(),this.path=r,this.schema=s},m.prototype.generate=function(){function e(e){C[e](d)}var t,r,n,a,c,u,f,p=this.path,l=this.schema,d=this,m=this.scope;if("object"===o(l)){if(void 0!==l.$ref){if(l=this.resolver.resolve(l),this.resolver.hasRef(l))return void this.refactor(p,l,this.resolver.getNormalizedRef(this.schema)||this.schema.$ref);this.schema=l}if(n=h(l),n["enum"])return void C["enum"](d);for(a=Object.keys(n.perType),f=0;f<a.length;f++)u=a[f],this.code((f?"else ":"")+"if ("+$[u](p)+") {"),n.perType[u].forEach(e),this.code("}"),n.type&&(c=n.type.indexOf(u),c>-1&&n.type.splice(c,1));n.type&&(n.type.length?(this.code((a.length?"else ":"")+"if (!("+n.type.map(function(e){return $[e]?$[e](p):"true"}).join(" || ")+")) {"),this.error("type"),this.code("}")):(this.code("else {"),this.error("type"),this.code("}"))),n.allType.forEach(function(e){C[e](d)}),l.format&&this.formats&&(r=this.formats[l.format],r&&("string"==typeof r||r instanceof RegExp?(this.code("if (!("+s(r)+").test("+p+")) {"),this.error("format"),this.code("}")):"function"==typeof r&&((m.formats||(m.formats={}))[l.format]=r,(m.schemas||(m.schemas={}))[l.format]=l,t=i(l.format),this.code("if (!formats["+t+"]("+p+", schemas["+t+"])) {"),this.error("format"),this.code("}"))))}},m.prototype.compile=function(e){return this.code=A("jsen_compiled"+(e?"_"+e:""),"data","path","errors"),this.generate(),this.code.compile(this.scope)},m.prototype.dispose=function(){for(var e in this)this[e]=void 0},y.browser=x,y.clone=f,y.equal=w,y.unique=k,y.ucs2length=S,y.SchemaResolver=q,y.resolve=q.resolvePointer,e.exports=y},function(e,t){"use strict";e.exports=function(){var e=Array.apply(null,arguments),t=e.shift(),r="  ",s="",i="",n=1,o="{[",a="}]",c=function(){for(var e=r,t=0;t++<n-1;)e+=r;return e},h=function(e){s+=c()+e+"\n"},u=function(e){var t=e[0],r=e[e.length-1];return a.indexOf(t)>-1&&o.indexOf(r)>-1?(n--,h(e),n++):o.indexOf(r)>-1?(h(e),n++):a.indexOf(t)>-1?(n--,h(e)):h(e),u};return u.def=function(e,t){return i+=(i?",\n"+r+"    ":"")+e+(void 0!==t?" = "+t:""),u},u.toSource=function(){return"function "+t+"("+e.join(", ")+") {\n"+r+'"use strict"\n'+(i?r+"var "+i+";\n":"")+s+"}"},u.compile=function(e){var t="return ("+u.toSource()+")",r=e||{},s=Object.keys(r),i=s.map(function(e){return r[e]});return Function.apply(null,s.concat(t)).apply(null,i)},u}},function(e,t){"use strict";function r(e){var t=Object.prototype.toString.call(e);return t.substr(8,t.length-9).toLowerCase()}function s(e,t){var r,s,n=Object.keys(e).sort(),o=Object.keys(t).sort();if(!i(n,o))return!1;for(r=0;r<n.length;r++)if(s=n[r],!i(e[s],t[s]))return!1;return!0}function i(e,t){var n,o=typeof e,a=typeof t;if("object"===o&&(o=r(e)),"object"===a&&(a=r(t)),o!==a)return!1;if("object"===o)return s(e,t);if("regexp"===o)return e.toString()===t.toString();if("array"===o){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;return!0}return e===t}e.exports=i},function(e,t,r){"use strict";function s(e,t,r){for(var s=0,i=e.length;s<i;s++)if(r(e[s],t))return s;return-1}var i=r(13);e.exports=function(e){return e.filter(function(e,t,r){return s(r,e,i)===t})},e.exports.findIndex=s},function(e,t,r){"use strict";function s(e,t){if(!t.length)return e;var r,i=t.shift();e&&"object"==typeof e&&e.hasOwnProperty(i)&&(r=e[i]);{if(!t.length)return r;if(r&&"object"==typeof r)return s(r,t)}}function i(e){var t=e.indexOf("#"),r={base:e.substr(0,t),path:[]};return t<0?(r.base=e,r):(e=e.substr(t+1))?(r.path=e.split("/").map(function(e){return decodeURIComponent(e).replace(/~1/g,"/").replace(/~0/g,"~")}),"/"===e[0]&&r.path.shift(),r):r}function n(e,t,r,s){this.rootSchema=e,this.resolvers=null,this.resolvedRootSchema=null,this.cache={},this.idCache={},this.refCache={refs:[],schemas:[]},this.missing$Ref=r,this.refStack=[],s=s||"",this._buildIdCache(e,s),s=this.refCache.refs[this.refCache.schemas.indexOf(this.rootSchema)]||s,this._buildResolvers(t,s)}var o=r(16),a=r(23),c="jsen: invalid schema reference",h="jsen: duplicate schema id",u="jsen: circular schema reference";n.prototype._cacheId=function(e,t,r){if(this.idCache[e])throw new Error(h+" "+e);this.idCache[e]={resolver:r,schema:t}},n.prototype._buildIdCache=function(e,t){var r,s,i,n=t;if(e&&"object"==typeof e)for("string"==typeof e.id&&e.id?(n=o.resolve(t,e.id),this._cacheId(n,e,this)):e===this.rootSchema&&t&&this._cacheId(t,e,this),e.$ref&&"string"==typeof e.$ref&&(r=o.resolve(n,e.$ref),this.refCache.schemas.push(e),this.refCache.refs.push(r)),s=Object.keys(e),i=0;i<s.length;i++)this._buildIdCache(e[s[i]],n)},n.prototype._buildResolvers=function(e,t){if(e&&"object"==typeof e){var r=this,s={};Object.keys(e).forEach(function(i){var a=o.resolve(t,i),c=new n(e[i],null,r.missing$Ref,a);r._cacheId(a,c.rootSchema,c),Object.keys(c.idCache).forEach(function(e){r.idCache[e]=c.idCache[e]}),s[i]=c}),this.resolvers=s}},n.prototype.getNormalizedRef=function(e){var t=this.refCache.schemas.indexOf(e);return this.refCache.refs[t]},n.prototype._resolveRef=function(e){var t,r,n,o,h,u=new Error(c+" "+e),f=this.idCache;if(!e||"string"!=typeof e)throw u;if(e===a.id&&(h=a),r=f[e],r&&(h=r.resolver.resolve(r.schema)),void 0===h&&(n=i(e),o=n.path,n.base&&(r=f[n.base]||f[n.base+"#"],r?h=r.resolver.resolve(s(r.schema,o.slice(0))):o.unshift(n.base))),void 0===h&&this.resolvedRootSchema&&(h=s(this.resolvedRootSchema,o.slice(0))),void 0===h&&(h=s(this.rootSchema,o.slice(0))),void 0===h&&o.length&&this.resolvers&&(t=s(this.resolvers,o),t&&(h=t.resolve(t.rootSchema))),void 0===h||"object"!=typeof h){if(!this.missing$Ref)throw u;h={}}return this.cache[e]===h?h:(this.cache[e]=h,void 0!==h.$ref&&(h=this.resolve(h)),h)},n.prototype.resolve=function(e){if(!e||"object"!=typeof e||void 0===e.$ref)return e;var t=this.getNormalizedRef(e)||e.$ref,r=this.cache[t];if(void 0!==r)return r;if(this.refStack.indexOf(t)>-1)throw new Error(u+" "+t);return this.refStack.push(t),r=this._resolveRef(t),this.refStack.pop(),e===this.rootSchema&&(this.resolvedRootSchema=r),r},n.prototype.hasRef=function(e){var t,r,s,i,n=Object.keys(e);if(n.indexOf("$ref")>-1)return!0;for(s=0,t=n.length;s<t;s++)if(r=n[s],e[r]&&"object"==typeof e[r]&&!Array.isArray(e[r])&&(i=this.hasRef(e[r])))return!0;return!1},n.resolvePointer=function(e,t){var r=i(t),n=r.path;return r.base&&(n=[r.base].concat(n)),s(e,n)},e.exports=n},function(e,t,r){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,r){if(e&&h.isObject(e)&&e instanceof s)return e;var i=new s;return i.parse(e,t,r),i}function n(e){return h.isString(e)&&(e=i(e)),e instanceof s?e.format():s.prototype.format.call(e)}function o(e,t){return i(e,!1,!0).resolve(t)}function a(e,t){return e?i(e,!1,!0).resolveObject(t):t}var c=r(17),h=r(19);t.parse=i,t.resolve=o,t.resolveObject=a,t.format=n,t.Url=s;var u=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(l),m=["'"].concat(d),y=["%","/","?",";","#"].concat(m),g=["/","?","#"],v=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,j=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},O={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=r(20);s.prototype.parse=function(e,t,r){if(!h.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),i=s!==-1&&s<e.indexOf("#")?"?":"#",n=e.split(i),o=/\\/g;n[0]=n[0].replace(o,"/"),e=n.join(i);var a=e;if(a=a.trim(),!r&&1===e.split("#").length){var f=p.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],t?this.query=w.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=u.exec(a);if(l){l=l[0];var d=l.toLowerCase();this.protocol=d,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===a.substr(0,2);!k||l&&O[l]||(a=a.substr(2),this.slashes=!0)}if(!O[l]&&(k||l&&!A[l])){for(var q=-1,I=0;I<g.length;I++){var S=a.indexOf(g[I]);S!==-1&&(q===-1||S<q)&&(q=S)}var $,C;C=q===-1?a.lastIndexOf("@"):a.lastIndexOf("@",q),C!==-1&&($=a.slice(0,C),a=a.slice(C+1),this.auth=decodeURIComponent($)),q=-1;for(var I=0;I<y.length;I++){var S=a.indexOf(y[I]);S!==-1&&(q===-1||S<q)&&(q=S)}q===-1&&(q=a.length),this.host=a.slice(0,q),a=a.slice(q),this.parseHost(),this.hostname=this.hostname||"";var F="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!F)for(var P=this.hostname.split(/\./),I=0,R=P.length;I<R;I++){var T=P[I];if(T&&!T.match(b)){for(var E="",M=0,_=T.length;M<_;M++)E+=T.charCodeAt(M)>127?"x":T[M];if(!E.match(b)){var z=P.slice(0,I),L=P.slice(I+1),U=T.match(j);U&&(z.push(U[1]),L.unshift(U[2])),L.length&&(a="/"+L.join(".")+a),this.hostname=z.join(".");break}}}this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=c.toASCII(this.hostname));var N=this.port?":"+this.port:"",Z=this.hostname||"";this.host=Z+N,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!x[d])for(var I=0,R=m.length;I<R;I++){var V=m[I];if(a.indexOf(V)!==-1){var D=encodeURIComponent(V);D===V&&(D=escape(V)),a=a.split(V).join(D)}}var J=a.indexOf("#");J!==-1&&(this.hash=a.substr(J),a=a.slice(0,J));var B=a.indexOf("?");if(B!==-1?(this.search=a.substr(B),this.query=a.substr(B+1),t&&(this.query=w.parse(this.query)),a=a.slice(0,B)):t&&(this.search="",this.query={}),a&&(this.pathname=a),A[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",Y=this.search||"";this.path=N+Y}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",s=this.hash||"",i=!1,n="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(n=w.stringify(this.query));var o=this.search||n&&"?"+n||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||A[t])&&i!==!1?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),s&&"#"!==s.charAt(0)&&(s="#"+s),o&&"?"!==o.charAt(0)&&(o="?"+o),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),o=o.replace("#","%23"),t+i+r+o+s},s.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(h.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var r=new s,i=Object.keys(this),n=0;n<i.length;n++){var o=i[n];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),c=0;c<a.length;c++){var u=a[c];"protocol"!==u&&(r[u]=e[u])}return A[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!A[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var l=f[p];r[l]=e[l]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||O[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=v||g||r.host&&e.pathname,j=b,x=r.pathname&&r.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],w=r.protocol&&!A[r.protocol];if(w&&(r.hostname="",r.port=null,r.host&&(""===x[0]?x[0]=r.host:x.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),b=b&&(""===d[0]||""===x[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,x=d;else if(d.length)x||(x=[]),x.pop(),x=x.concat(d),r.search=e.search,r.query=e.query;else if(!h.isNullOrUndefined(e.search)){if(w){r.hostname=r.host=x.shift();var k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");k&&(r.auth=k.shift(),r.host=r.hostname=k.shift())}return r.search=e.search,r.query=e.query,h.isNull(r.pathname)&&h.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var q=x.slice(-1)[0],I=(r.host||e.host||x.length>1)&&("."===q||".."===q)||""===q,S=0,$=x.length;$>=0;$--)q=x[$],"."===q?x.splice($,1):".."===q?(x.splice($,1),S++):S&&(x.splice($,1),S--);if(!b&&!j)for(;S--;S)x.unshift("..");!b||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),I&&"/"!==x.join("/").substr(-1)&&x.push("");var C=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(w){r.hostname=r.host=C?"":x.length?x.shift():"";var k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");k&&(r.auth=k.shift(),r.host=r.hostname=k.shift())}return b=b||r.host&&x.length,b&&!C&&x.unshift(""),x.length?r.pathname=x.join("/"):(r.pathname=null,r.path=null),h.isNull(r.pathname)&&h.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},s.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){var s;(function(e,i){!function(n){function o(e){throw RangeError(P[e])}function a(e,t){for(var r=e.length,s=[];r--;)s[r]=t(e[r]);return s}function c(e,t){var r=e.split("@"),s="";r.length>1&&(s=r[0]+"@",e=r[1]),e=e.replace(F,".");var i=e.split("."),n=a(i,t).join(".");return s+n}function h(e){for(var t,r,s=[],i=0,n=e.length;i<n;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<n?(r=e.charCodeAt(i++),56320==(64512&r)?s.push(((1023&t)<<10)+(1023&r)+65536):(s.push(t),i--)):s.push(t);return s}function u(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=E(e>>>10&1023|55296),e=56320|1023&e),t+=E(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:x}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function l(e,t,r){var s=0;for(e=r?T(e/k):e>>1,e+=T(e/t);e>R*A>>1;s+=x)e=T(e/R);return T(s+(R+1)*e/(e+w))}function d(e){var t,r,s,i,n,a,c,h,p,d,m=[],y=e.length,g=0,v=I,b=q;for(r=e.lastIndexOf(S),r<0&&(r=0),s=0;s<r;++s)e.charCodeAt(s)>=128&&o("not-basic"),m.push(e.charCodeAt(s));for(i=r>0?r+1:0;i<y;){for(n=g,a=1,c=x;i>=y&&o("invalid-input"),h=f(e.charCodeAt(i++)),(h>=x||h>T((j-g)/a))&&o("overflow"),g+=h*a,p=c<=b?O:c>=b+A?A:c-b,!(h<p);c+=x)d=x-p,a>T(j/d)&&o("overflow"),a*=d;t=m.length+1,b=l(g-n,t,0==n),T(g/t)>j-v&&o("overflow"),v+=T(g/t),g%=t,m.splice(g++,0,v)}return u(m)}function m(e){var t,r,s,i,n,a,c,u,f,d,m,y,g,v,b,w=[];for(e=h(e),y=e.length,t=I,r=0,n=q,a=0;a<y;++a)m=e[a],m<128&&w.push(E(m));for(s=i=w.length,i&&w.push(S);s<y;){for(c=j,a=0;a<y;++a)m=e[a],m>=t&&m<c&&(c=m);for(g=s+1,c-t>T((j-r)/g)&&o("overflow"),r+=(c-t)*g,t=c,a=0;a<y;++a)if(m=e[a],m<t&&++r>j&&o("overflow"),m==t){for(u=r,f=x;d=f<=n?O:f>=n+A?A:f-n,!(u<d);f+=x)b=u-d,v=x-d,w.push(E(p(d+b%v,0))),u=T(b/v);w.push(E(p(u,0))),n=l(r,g,s==i),r=0,++s}++r,++t}return w.join("")}function y(e){return c(e,function(e){return $.test(e)?d(e.slice(4).toLowerCase()):e})}function g(e){return c(e,function(e){return C.test(e)?"xn--"+m(e):e})}var v=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof i&&i);v.global!==v&&v.window!==v&&v.self!==v||(n=v);var b,j=2147483647,x=36,O=1,A=26,w=38,k=700,q=72,I=128,S="-",$=/^xn--/,C=/[^\x20-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=x-O,T=Math.floor,E=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:h,encode:u},decode:d,encode:m,toASCII:g,toUnicode:y},s=function(){return b}.call(t,r,t,e),!(void 0!==s&&(e.exports=s))}(this)}).call(t,r(18)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(21),t.encode=t.stringify=r(22)},function(e,t){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,s,i){t=t||"&",s=s||"=";var n={};if("string"!=typeof e||0===e.length)return n;var o=/\+/g;e=e.split(t);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var h=0;h<c;++h){var u,f,p,l,d=e[h].replace(o,"%20"),m=d.indexOf(s);m>=0?(u=d.substr(0,m),f=d.substr(m+1)):(u=d,f=""),p=decodeURIComponent(u),l=decodeURIComponent(f),r(n,p)?Array.isArray(n[p])?n[p].push(l):n[p]=[n[p],l]:n[p]=l}return n}},function(e,t){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,s,i){return t=t||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(i){var n=encodeURIComponent(r(i))+s;return Array.isArray(e[i])?e[i].map(function(e){return n+encodeURIComponent(r(e))}).join(t):n+encodeURIComponent(r(e[i]))}).join(t):i?encodeURIComponent(r(i))+s+encodeURIComponent(r(e)):""}},function(e,t){e.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{"enum":["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean","default":!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean","default":!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean","default":!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},"enum":{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},"default":{}}},function(e,t){"use strict";var r={};r["date-time"]=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/,r.uri=/^([a-zA-Z][a-zA-Z0-9+-.]*:){0,1}\/\/[^\s]*$/,r.email=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,r.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,r.ipv6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|[fF][eE]80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::([fF]{4}(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,r.hostname=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]))*$/,e.exports=r},function(e,t){"use strict";function r(e){for(var t,r,s=0,i=0,n=e.length;i<n;)s++,t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<n&&(r=e.charCodeAt(i++),56320!==(64512&r)&&i--);return s}e.exports=r}])});